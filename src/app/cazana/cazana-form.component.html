<div class="container">
  <div [hidden]="submitted">
    <form (ngSubmit)="onSubmit()" #cazanaForm="ngForm">
      <h1>Vehicle Mileage Estimator</h1>
      {{ model | json }}
      <div class="form-row">
        <div class="form-group col-md-2">
          <label for="id">ID</label>
          <input
            type="text"
            class="form-control"
            id="id"
            placeholder="ID"
            required
            [(ngModel)]="model.id"
            name="id"
            #name="ngModel"
          />
          <div
            [hidden]="name.valid || name.pristine"
            class="alert alert-danger"
          >
            Id is required
          </div>
        </div>

        <div class="form-group col-md-3">
          <label for="vrn">VRN</label>
          <input
            type="text"
            class="form-control"
            id="vrn"
            [(ngModel)]="model.vrn"
            name="VRN"
          />
          TODO: remove this: {{ model.vrn }}
        </div>

        <div class="form-group col-md-2">
          <label for="make">Make</label>
          <input
            type="text"
            class="form-control"
            id="make"
            [(ngModel)]="model.make"
            name="Make"
          />
        </div>

        <div class="form-group col-md-2">
          <label for="model">Model</label>
          <input
            type="text"
            class="form-control"
            id="model"
            [(ngModel)]="model.model"
            name="Model"
          />
        </div>

        <div class="form-group col-md-3">
          <label for="registrationDate">Date of Registration (MM/YYYY)</label>
          <input
            type="text"
            class="form-control"
            id="registrationDate"
            required
            [(ngModel)]="model.registrationDate"
            name="registrationDate"
            #registrationDate="ngModel"
            (change)="getDuration()"
          />

          <div
            [hidden]="registrationDate.valid || registrationDate.pristine"
            class="alert alert-danger"
          >
            Registration Date is required
          </div>
        </div>

        <h2 class="smallLineHeight">Advertised for sale:</h2>

        <div class="form-group">
          <div class="col-md-2">
            <label for="dateAdvertised">Date(MM/YYYY):</label>
            <input
              type="text"
              class="form-control"
              id="dateAdvertised"
              [(ngModel)]="model.dateAdvertised"
              name="dateAdvertised"
              (change)="getDuration()"
            />
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-2">
            <label for="price">Price:</label>
            <input
              type="text"
              class="form-control"
              id="price"
              [(ngModel)]="model.price"
              name="price"
            />
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-3">
            <label for="mileageAdvertised">Mileage</label>
            <input
              type="text"
              class="form-control"
              id="mileageAdvertised"
              required
              [(ngModel)]="model.mileageAdvertised"
              name="mileageAdvertised"
              #mileageAdvertised="ngModel"
              (change)="getDuration()"
            />
            <div
              [hidden]="mileageAdvertised.valid || mileageAdvertised.pristine"
              class="alert alert-danger"
            >
              Mileage is required
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-3">
            <label for="durationFromReg">Duration from Reg(Months)</label>
            <input
              type="text"
              class="form-control"
              id="durationFromReg"
              [(ngModel)]="model.durationFromReg"
              name="durationFromReg"
            />
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-2">
            <label for="averageMileage">Average Mileage</label>
            <input
              type="text"
              class="form-control"
              id="averageAdMileage"
              [(ngModel)]="model.averageAdMileage"
              name="averageAdMileage"
            />
          </div>
        </div>
      </div>

      <h2 class="smallLineHeight">MOT test (roadworthy test):</h2>

      <div class="row">
        <div class="form-group col-md-2">
          <label for="dateOfMot">Date(MM/YYYY):</label>
          <input
            type="text"
            class="form-control"
            id="dateOfMot"
            required
            [(ngModel)]="model.dateOfMot"
            name="dateOfMot"
            #dateOfMot="ngModel"
            (change)="getDuration()"
          />
          <div
            [hidden]="dateOfMot.valid || dateOfMot.pristine"
            class="alert alert-danger"
          >
            Date of Mot is required
          </div>
        </div>

        <div class="form-group col-md-2">
          <label for="result">Result:</label>
          <input
            type="text"
            class="form-control"
            id="result"
            [(ngModel)]="model.result"
            name="result"
          />
        </div>

        <div class="form-group col-md-3">
          <label for="mileageMot">Mileage</label>
          <input
            type="text"
            class="form-control"
            id="mileageMot"
            required
            [(ngModel)]="model.mileageMot"
            name="mileageMot"
            #mileageMot="ngModel"
            (change)="getDuration()"
          />
          <div
            [hidden]="mileageMot.valid || mileageMot.pristine"
            class="alert alert-danger"
          >
            Mileage is required
          </div>
        </div>

        <div class="form-group col-md-3">
          <label for="durationFromReg">Duration from Reg(Months)</label>
          <input
            type="text"
            class="form-control"
            id="durationFromRegMot"
            [(ngModel)]="model.durationFromRegMot"
            name="durationFromRegMot"
          />
        </div>

        <div class="form-group col-md-2">
          <label for="averageMileage">Average Mileage</label>
          <input
            type="text"
            class="form-control"
            id="averageMotMileage"
            [(ngModel)]="model.averageMotMileage"
            name="averageMotMileage"
          />
        </div>
      </div>

      <h2 class="smallLineHeight">Change of VRN:</h2>

      <div class="form-row">
        <div class="form-group col-md-2">
          <label for="dateOfChange">Date(MM/YYYY):</label>
          <input
            type="text"
            class="form-control"
            id="dateAdvertised"
            [(ngModel)]="model.dateOfChange"
            name="dateOfChange"
            (change)="getDuration()"
          />
        </div>

        <div class="form-group col-md-2">
          <label for="fromVRN">from VRN:</label>
          <input
            type="text"
            class="form-control"
            id="vrn"
            [(ngModel)]="model.vrn"
            name="vrn"
          />
        </div>

        <div class="form-group col-md-2">
          <label for="toVRN">to VRN:</label>
          <input
            type="text"
            class="form-control"
            id="toVRN"
            [(ngModel)]="model.toVRN"
            name="toVRN"
          />
        </div>

        <div class="form-group col-md-2">
          <label for="mileageVrn">Mileage</label>
          <input
            type="text"
            class="form-control"
            id="mileageVrn"
            required
            [(ngModel)]="model.mileageVrn"
            name="mileageVrn"
            #mileageVrn="ngModel"
            (change)="getDuration()"
          />
          <div
            [hidden]="mileageVrn.valid || mileageVrn.pristine"
            class="alert alert-danger"
          >
            Mileage is required
          </div>
        </div>

        <div class="form-group col-md-2">
          <label for="durationFromReg">Duration from Reg</label>
          <input
            type="text"
            class="form-control"
            id="durationFromRegVrn"
            [(ngModel)]="model.durationFromRegVrn"
            name="durationFromRegVrn"
          />
        </div>

        <div class="form-group col-md-2">
          <label for="averageMileage">Average Mileage</label>
          <input
            type="text"
            class="form-control"
            id="averageVrnMileage"
            [(ngModel)]="model.averageVrnMileage"
            name="averageVrnMileage"
          />
        </div>
      </div>
      <!--
      <div class="form-group">
        <label for="power">Hero Power</label>
        <select
          class="form-control"
          id="power"
          required
          [(ngModel)]="model.power"
          name="power"
          #power="ngModel"
        >
          <option *ngFor="let pow of powers" [value]="pow">{{ pow }}</option>
        </select>
        <div
          [hidden]="power.valid || power.pristine"
          class="alert alert-danger"
        >
          Power is required
        </div>
      </div>
    -->
      <div class="form-group col-xs-6">
        <button type="submit" class="btn btn-success">Submit</button>
        <button type="button" class="btn btn-default" (click)="newCazana()">
          New Cazana
        </button>
      </div>

      <div [hidden]="!submitted">
        <h2>You submitted the following:</h2>
        <div class="row">
          <div class="col-xs-3">Id</div>
          <div class="col-xs-9">{{ model.id }}</div>
        </div>
        <div class="row">
          <div class="col-xs-3">VRN</div>
          <div class="col-xs-9">{{ model.vrn }}</div>
        </div>
        <!--
    <div class="row">
      <div class="col-xs-3">Power</div>
      <div class="col-xs-9">{{ model.power }}</div>
    </div>-->
        <br />
        <div class="form-group col-xs-6">
          <button
            type="button"
            class="btn btn-primary"
            (click)="submitted = false"
          >
            Edit
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
